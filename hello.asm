.include "/home/gowthami/m328Pdef.inc"
out DDRD,r16
ldi r17,0b11111111
out PORTD,r17
ldi r16,0b00000001
out DDRB,r16
loop:
in r17,PIND
ldi r19,0b00000100
mov r18,r17
and r18,r19
ldi r25,0b00000010
loopW:lsr r18
dec r25
brne loopW
.DEF W=r18
mov r20,r17
ldi r19,0b00001000
and r20,r25
ldi r25,0b00000011
loopX:lsr r20,r19
dec r25
brne loopX
.DEF X=r20
ldi r19,0b00010000
mov r21,r17
and r21,r19
ldi r25,0b00000100
loopy:lsr r21
dec r25
brne loopy
.DEF y=r21
ldi r19,0b00100000
mov r22,r17
and r22,r19
ldi r25,0b00000101
loopZ:lsr r22
dec r25
brne loopZ
.DEF Z=r22
ldi r23,0X00
ldi r24,0X00
ldi r26,0X00
.DEF T1=r23
.DEF T2=r24
.DEF T3=r25
;F=(y'Z)+(W'Xy)+(WY)
;y'Z+W'XY+WY
mov T1,W
and T1,y
com W
mov T2,W
and T2,X
and T2,y
or T1,T2
com y
mov T3,y
and T3,Z
or T3,T1
out portB,T3
rjmp loop
start:rjmp start
